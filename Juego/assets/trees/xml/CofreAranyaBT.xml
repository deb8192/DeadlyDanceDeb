<?xml version="1.0" encoding="UTF-8"?>
<!--Arbol de comportamiento de los Cofres aranya-->
<BehaviorTree>
    <Root id="1" type="selector">
        <Composition id="2" type="secuencia">
            <Leaf id="3" type="tarea" action="comprueba" target="abierto"></Leaf>
            <Leaf id="4" type="tarea" action="comprueba" target="modo-normal"></Leaf>
            <Leaf id="5" type="tarea" action="cambia" target="modo-ataque">
                <Blackboard task="escribe" info="modo-ataque"></Blackboard>
            </Leaf>
        </Composition>
        <Composition id="6" type="secuencia">
            <Leaf id="7" type="tarea" action="ve" target="jugador"></Leaf>
            <Leaf id="8" type="tarea" action="comprueba" target="modo-ataque">
                <Blackboard task="lee" info="modo"></Blackboard>
            </Leaf>
            <Decorator id="9" type="iterador" end="cerca-jugador">
                <Leaf id="10" type="tarea" action="persigue" target="jugador"></Leaf>
            </Decorator>
            <Leaf id="11" type="tarea" action="ataca" target="jugador"></Leaf>
        </Composition>
        <Composition id="12" type="tarea" action="oye" target="jugador">
            <Composition id="13" type="selector">
                <Composition id="14" type="tarea" action="comprueba" target="modo-ataque">
                    <Blackboard task="lee" info="modo"></Blackboard>
                    <Composition id="15" type="secuencia">
                        <Leaf id="16" type="tarea" action="busca" target="jugador"></Leaf>
                        <Composition id="17" type="secuencia">
                            <Leaf id="18" type="tarea" action="ve" target="jugador"></Leaf>
                            <Decorator id="19" type="iterador" end="cerca-jugador">
                                <Leaf id="20" type="tarea" action="persigue" target="jugador"></Leaf>
                            </Decorator>
                            <Leaf id="21" type="tarea" action="ataca" target="jugador"></Leaf>
                        </Composition>
                    </Composition>
                </Composition>
                <Composition id="22" type="secuencia">
                    <Leaf id="23" type="tarea" action="detecta" target="zonas-cofre">
                        <Blackboard task="escribe" info="zonas-cofre"></Blackboard>
                    </Leaf>
                    <Composition id="24" type="selector">
                        <Decorator id="25" type="iterador" end="zona-con-cofres" alternative="max-zonas-recorridas">
                            <Composition id="26" type="secuencia">
                                <Leaf id="27" type="tarea" action="comrpueba" target="zona-con-cofres">
                                    <Blackboard task="lee" info="zona-con-cofres"></Blackboard>
                                </Leaf>
                                <Leaf id="28" type="tarea" action="ocultarse" target="zona-con-cofres"></Leaf>
                            </Composition>
                        </Decorator>
                        <Leaf id="29" type="tarea" action="ocultarse" target="zonas-cofres">
                            <Blackboard task="lee" info="max-cerca-zona"></Blackboard>
                        </Leaf>
                    </Composition>
                </Composition>
            </Composition>
        </Composition>
        <Composition id="30" type="secuencia">
            <Leaf id="31" type="tarea" action="comprueba" target="modo-ataque">
                <Blackboard task="lee" info="modo"></Blackboard>
            </Leaf>
            <Leaf id="32" type="tarea" action="cambia" target="modo-normal">
                <Blackboard task="escribe" info="modo-normal"></Blackboard>
            </Leaf>
        </Composition>
        <Composition id="33" type="tarea" action="detecta" target="puerta">
            <Composition id="34" type="selector">
                <Composition id="35" type="secuencia">
                    <Leaf id="36" type="tarea" action="abierta" target="abierta"></Leaf>
                    <Leaf id="37" type="tarea" action="atraviesa" target="puerta">
                        <Blackboard task="escribe" info="ultima-puerta"></Blackboard>
                    </Leaf>
                </Composition>
            </Composition>
        </Composition>
        <Leaf id="38" type="tarea" action="merodea" target=""></Leaf>
    </Root>
</BehaviorTree>